
@using Microsoft.AspNetCore.Authorization
@using Microsoft.AspNetCore.Identity
@using System.Security.Claims
@{
  Layout = "_DashboardLayout";
var isAdmin = User.HasClaim(ClaimTypes.Role, "Admin");
var firstLoginClaim = User.FindFirst("FirstLogin");
    string firstLoginValue = firstLoginClaim?.Value;
bool hasAddFollowupsPrivilege = User.Claims.Any(c => c.Type == "Privilege" && c.Value == "AddFollowup");
bool hasEditCustomerPrivilege = User.Claims.Any(c => c.Type == "Privilege" && c.Value == "EditCustomers");
bool hasEditFollowupsPrivilege = User.Claims.Any(c => c.Type == "Privilege" && c.Value == "EditFollowups");

	
}
<div class="custom-loader"></div>
<div class="elements">
<div class="d-flex justify-content-between align-items-center mb-2">

                        <button type="button" class="btn btn-primary btn-sm " id="fullScreenCusToggle">Toggle Full
                            Screen</button>
                    </div>
  <div id="table-container">
    <h2 class="hide-elements">Customers</h2>

    <table id="customers-table" class="display" style="width: 100%">
    </table>
  </div>
</div>




@await Html.PartialAsync("CustomerModel")
@section Scripts{
<link
  rel="stylesheet"
  href=" https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"
/>

<link rel="stylesheet" href="~/css/ShowCustomer.css" />

<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script> 
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">

<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/2.11.8/umd/popper.min.js" integrity="sha512-TPh2Oxlg1zp+kz3nFA0C5vVC6leG/6mm1z9+mA81MI5eaUVqasPLO8Cuk4gMF4gUfP5etR73rgU/8PNMsSesoQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
 <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>

<script src="https://cdn.datatables.net/1.10.25/js/jquery.dataTables.js" defer></script>
<link
  rel="stylesheet"
  type="text/css"
  href="https://cdn.datatables.net/1.10.25/css/jquery.dataTables.css"
/>
   <link
  rel="stylesheet"
  type="text/css"
  href="~/css/model.css"
/>
 <script>
   
        var isAdmin = @isAdmin.ToString().ToLower(); // converts true/false to javascript boolean
    var Addfollowups= @hasAddFollowupsPrivilege.ToString().ToLower();
         var EditCustomer = @hasEditCustomerPrivilege.ToString().ToLower();

    var EditFollowups = @hasEditFollowupsPrivilege.ToString().ToLower();

    var isFirstLogin=@firstLoginValue;
    
    </script>

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/driver.js@1.0.1/dist/driver.css"/>
    <script src="https://cdn.jsdelivr.net/npm/driver.js@1.0.1/dist/driver.js.iife.js"></script>


<script src="~/js/ShowCustomers.js"></script>
<script src="~/js/Followup.js"></script>
}
